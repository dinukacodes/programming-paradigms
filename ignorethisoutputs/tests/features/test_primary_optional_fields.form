form PrimaryOptionalFieldTest {
    section PrimaryOptionalTests {
        field basic_primaryoptional: primary_optional required;
        
        field field_primary: primary_optional {
            required;
            default = true;
        }
        
        field section_primary: primary_optional {
            optional;
            default = false;
        }
        
        field group_primary: primary_optional {
            required;
            default = true;
        }
    }

    validate {
        if basic_primaryoptional == 0 { error "Primary/Optional selection is required."; }
        
        if field_primary == 0 { error "Field primary status is required."; }
        if !field_primary { error "Field must be primary."; }
        
        if group_primary == 0 { error "Group primary status is required."; }
    }
} 